<div class="mcTableTitle">
	<span class="title">
		Active Sessions
		<span class="badge element-count ng-binding" style="margin: 0px 3px; display: inline;" aria-hidden="false">{{totalItemCount}}</span>
		<i class="fa fa-filter themeColor" (click)="filterClick()" style="cursor: pointer;margin-left: 2px;"></i>
	</span>
</div>
<div class="mcTableContainer">
	<table mat-table matSort [dataSource]="dataSource" class="table table-condensed table-bordered mcTable">
		<ng-container matColumnDef="userEmailAddress">
			<th mat-header-cell *matHeaderCellDef mat-sort-header="userEmailAddress" [disabled]="!hideFilters" style="cursor: pointer; max-width: 30%; width: 30%;" columnName="userEmailAddress">
				<span [hidden]="!hideFilters">Email</span>
				<div [hidden]="hideFilters">
					<mat-form-field class="filter" floatLabel="never">
						<mat-label>Email</mat-label>
						<input #filters matInput name="userEmailAddress" (keyup)="applyFilter()">
					</mat-form-field>
				</div>
			</th>
			<td mat-cell *matCellDef="let record" style="max-width: 30%; width: 30%; text-align: left; word-wrap: break-word;">
				<div>
					<i class="fa fa-circle onlineUser" aria-hidden="true" title="Online"></i>
					{{ record.userEmailAddress }}
				</div>
			</td>
		</ng-container>
		<ng-container matColumnDef="userName">
			<th mat-header-cell *matHeaderCellDef mat-sort-header="userName" [disabled]="!hideFilters" style="cursor: pointer; max-width: 15%; width: 15%;" columnName="userName">
				<span [hidden]="!hideFilters">Name</span>
				<div [hidden]="hideFilters">
					<mat-form-field class="filter" [style.width.px]="100" floatLabel="never">
						<mat-label>Name</mat-label>
						<input #filters matInput name="userName" (keyup)="applyFilter()">
					</mat-form-field>
				</div>
			</th>
			<td mat-cell *matCellDef="let record" style="max-width: 15%; width: 15%; text-align: left; word-wrap: break-word;">
				<div>
					{{record.userName}}
				</div>
			</td>
		</ng-container>
		<ng-container matColumnDef="userOrganisation">
			<th mat-header-cell *matHeaderCellDef mat-sort-header="userOrganisation" [disabled]="!hideFilters" style="cursor: pointer; max-width: 22%; width: 22%;" columnName="userOrganisation">
				<span [hidden]="!hideFilters">Organisation</span>
				<div [hidden]="hideFilters">
					<mat-form-field class="filter" [style.width.px]="100" floatLabel="never">
						<mat-label>Organisation</mat-label>
						<input #filters matInput name="userOrganisation" (keyup)="applyFilter()">
					</mat-form-field>
				</div>
			</th>
			<td mat-cell *matCellDef="let record" style="max-width: 22%; width: 22%; text-align: left; word-wrap: break-word;">
				<div>
					{{record.userOrganisation}}
				</div>
			</td>
		</ng-container>
		<ng-container matColumnDef="start">
			<th mat-header-cell *matHeaderCellDef mat-sort-header [disabled]="!hideFilters" style="cursor: pointer; max-width: 10%; width: 10%;" columnName="start">
				<span [hidden]="!hideFilters">Start</span>
				<div [hidden]="hideFilters">
					<mat-form-field class="filter" [style.width.px]="100" floatLabel="never">
						<mat-label>Start</mat-label>
						<input #filters matInput name="start" (keyup)="applyFilter()">
					</mat-form-field>
				</div>
			</th>
			<td mat-cell *matCellDef="let record" style="max-width: 10%; width: 10%; text-align: left; word-wrap: break-word;">

				<span *ngIf="isToday(record.start)">
					{{record.start | date: 'h:mm a' }}
				</span>
				<span *ngIf="!isToday(record.start)">
					{{record.start | date: 'dd/MM/yyyy h:mm a'}}
				</span>
			</td>
		</ng-container>
		<ng-container matColumnDef="lastAccess">
			<th mat-header-cell *matHeaderCellDef mat-sort-header [disabled]="!hideFilters" style="cursor: pointer; max-width: 10%; width: 10%;" columnName="lastAccess">
				<span [hidden]="!hideFilters">Last Access</span>
				<div [hidden]="hideFilters">
					<mat-form-field class="filter" [style.width.px]="100" floatLabel="never">
						<mat-label>Last Access</mat-label>
						<input #filters matInput name="last" (keyup)="applyFilter()">
					</mat-form-field>
				</div>
			</th>
			<td mat-cell *matCellDef="let record" style="max-width: 10%; width: 10%; text-align: left; word-wrap: break-word;">
				<span *ngIf="isToday(record.last)">
					{{record.last | date: 'h:mm a' }}
				</span>
				<span *ngIf="!isToday(record.last)">
					{{record.last | date: 'dd/MM/yyyy h:mm a'}}
				</span>
			</td>
		</ng-container>

		<tr mat-header-row *matHeaderRowDef="displayedColumns" style="height: auto;" class="mcTableHeader"></tr>
		<tr mat-row *matRowDef="let record; columns: displayedColumns;" style="height: auto"></tr>

	</table>
</div>