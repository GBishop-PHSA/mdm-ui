<div class="full-width">
    <mdm-terminology-details *ngIf="terminology"
                            [hideEditButton]="true"
                            [mcTerminology]="terminology"
                            (afterSave)="save()"
                            [openEditForm]="openEditForm"></mdm-terminology-details>
</div>

<div class="full-width mb-1">
    <div class="panel panel-default">
        <div class="panel-heading bordered"><strong>Find Terms</strong></div>
        <div class="panel-body">
            <mdm-select [width]="'100%'"
                        [acceptTypedInput]="false"
                        [valueType]="'dynamic'"
                        [minInputLength]="1"
                        [defaultPlaceholder]="'Search for Term...'"
                        [loadDynamicValues]="fetch"
                        [doNotCloseOnSelect]="true"
                        [idProperty]="'id'"
                        [displayProperty]="'definition'"
                        [searchProperty]="'definition'"
                        [pagination]="pagination"
                        (selectEvent)="onTermSelect($event[0])">
                <ng-template #lineContent let-item let-inputText="inputText">
                    <a><span [innerHTML]="(item.code + ': ' + item.definition  | mchighlighter:inputText)"></span></a>
                    <div *ngIf="item.aliases && item.aliases.length>0">
                        <span *ngFor="let alias of item.aliases" style="margin:5px 0px; font-size: 12px;">
                            <a [innerHTML]="'(' + (alias | mchighlighter:inputText) + ')'"></a>
                        </span>
                    </div>
                </ng-template>
            </mdm-select>
        </div>
    </div>
</div>

<div *ngIf="!showEditForm">
    <mat-tab-group #tab [selectedIndex]="activeTab" (selectedIndexChange)="tabSelected($event)">
        <mat-tab label="Properties">
            <ng-template matTabContent>
                <div class="full-width">
                    <mdm-data-set-metadata *ngIf="terminology" [parent]="terminology" [type]="'dynamic'"></mdm-data-set-metadata>
                </div>
            </ng-template>
        </mat-tab>
        <mat-tab label="Comments">
            <ng-template matTabContent>
                <div class="full-width">
                    <mdm-annotation-list *ngIf="terminology" [parent]="terminology"></mdm-annotation-list>
                </div>
            </ng-template>
        </mat-tab>
        <mat-tab label="Attachments">
            <ng-template matTabContent>
                <div class="full-width">
                    <mdm-attachment-list *ngIf="terminology" [parent]="terminology"></mdm-attachment-list>
                </div>
            </ng-template>
        </mat-tab>
        <mat-tab label="History">
            <ng-template matTabContent>
                <div class="full-width">
                    <mdm-history *ngIf="terminology" [parent]="terminology" [parentType]="'Terminology'"></mdm-history>
                </div>
            </ng-template>
        </mat-tab>
    </mat-tab-group>
</div>
