<h2>Reset Password</h2>
<form #changePasswordForm="ngForm" role="form" (keyup)="($event.keyCode != 13)">
  <div *ngIf="message" class="alert alert-danger">
    <a href="#" class="close" data-dismiss="alert" aria-label="close"
      >&times;</a
    >
    {{ message }}
  </div>
  <mat-form-field appearance="outline" style="width: 100%">
    <mat-label>Password*</mat-label>
    <mat-pass-toggle-visibility
      #toggleOldPassword
      matSuffix
    ></mat-pass-toggle-visibility>
    <input
      required
      matInput
      [type]="toggleOldPassword.type"
      id="oldPassword"
      name="oldPassword"
      [(ngModel)]="user.password"
    />
  </mat-form-field>
  <mat-password-strength
    [password]="user.password"
    class="green"
    [enableDigitRule]="true"
    [enableLengthRule]="true"
    [enableLowerCaseLetterRule]="true"
    [enableSpecialCharRule]="false"
    [enableUpperCaseLetterRule]="true"
  ></mat-password-strength>
  <small *ngIf="errors && errors['password']" class="errorMessage">
    {{errors['password']}}
</small>

  <mat-form-field appearance="outline" style="width: 100%">
    <mat-label>Confirm Password*</mat-label>
    <mat-pass-toggle-visibility
      #toggleNewPassword
      matSuffix
    ></mat-pass-toggle-visibility>
    <input
      autocomplete="new-password"
      required
      matInput
      [type]="toggleNewPassword.type"
      id="newPassword"
      name="newPassword"
      [(ngModel)]="user.confirmPassword"
    />
    <small *ngIf="errors && errors['confirmPassword']" class="errorMessage">
        {{errors['confirmPassword']}}
    </small>
  </mat-form-field>

  <button
    type="button"
    class="btn btn-success"
    (click)="save()"
    [disabled]="processing"
  >
    <span class="glyphicon glyphicon-ok"></span>Submit
  </button>
  <button type="button" class="btn" [disabled]="processing" (click)="cancel()">
    <span>Cancel</span>
  </button>
</form>
