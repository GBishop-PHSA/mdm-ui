<div class="heading-container">
    <h4 class="marginless">
        Summary Metadata 
        <span class="badge element-count" style="margin: 0px 3px; display: inline;" aria-hidden="false">{{totalItemCount}}</span>
        <i class="fas fa-filter" (click)="filterClick()" style="cursor: pointer;margin-left: 2px;"></i>
    </h4>
</div>

<table mat-table matSort [dataSource]="records" class="mdm--table table table-borderless table-striped">
    <ng-container matColumnDef="namespace">
        <th mat-header-cell *matHeaderCellDef mat-sort-header style="cursor:pointer;max-width: 40%;width: 40%;">
            <span [hidden]="!hideFilters">Namespace</span>
            <div [hidden]="hideFilters">
                <mat-form-field class="filter" floatLabel="never">
                    <mat-label>Namespace</mat-label>
                    <input #filters matInput name="namespace" (keyup)="applyFilter()">
                </mat-form-field>
            </div>
        </th>
        <td mat-cell *matCellDef="let record" style="max-width: 40%; width: 40%; text-align: left; word-wrap: break-word;">
            <div>{{record.name}}</div>
            <div>{{record.description}}</div>
        </td>
    </ng-container>
    <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef style="cursor:pointer;max-width: 65%;width: 65%;"  columnName="description">
            Description
        </th>
        <td  *matCellDef="let record" style="max-width: 65%;width: 65%;text-align: left;word-wrap: break-word;">
            <div *ngIf="record.summaryMetadataType === 'map'">
                <mdm-summary-metadata-map [summary]="record" [chartType]="'bar'"  [showMoreDetailsBtn]="true"></mdm-summary-metadata-map>
            </div>

            <div *ngIf="record.summaryMetadataType === 'number' ">
                <mdm-summary-metadata-map [summary]="record" [chartType]="'line'"  [showMoreDetailsBtn]="true"></mdm-summary-metadata-map>
            </div>
        </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>

<mat-card *ngIf="isLoadingResults" style="display: flex; justify-content: center; align-items: center">
    <mat-progress-spinner color="primary" mode="indeterminate"> </mat-progress-spinner>
</mat-card>

<div class="mdm--mat-pagination">
    <mdm-paginator [pageSizeOptions]="[5, 10, 20,50]" [pageSize]="20" [length]="totalItemCount" showFirstLastButtons></mdm-paginator>
</div>